/**
 * @file Firestore Security Rules
 * @core Philosophy: This ruleset provides open access for prototyping. All reads and writes are allowed. This is NOT suitable for production.
 * @data Structure: The database contains collections for RFPs, Contractors, Proposals, Metro Codes, and Users. RFPs have a subcollection of Proposals.
 * @key Security Decisions: This configuration disables all security measures to allow for rapid prototyping and should not be used in production environments.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description: Allows all read and write access to the RFPs collection.
     * @path: /rfps/{rfpId}
     * @allow: (get, list, create, update, delete) - Any user can perform any operation.
     * @deny: (none) - There are no restrictions.
     * @principle: Open access for prototyping.
     */
    match /rfps/{rfpId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description: Allows all read and write access to the proposals subcollection within an RFP.
     * @path: /rfps/{rfpId}/proposals/{proposalId}
     * @allow: (get, list, create, update, delete) - Any user can perform any operation.
     * @deny: (none) - There are no restrictions.
     * @principle: Open access for prototyping.
     */
    match /rfps/{rfpId}/proposals/{proposalId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description: Allows all read and write access to the contractors collection.
     * @path: /contractors/{contractorId}
     * @allow: (get, list, create, update, delete) - Any user can perform any operation.
     * @deny: (none) - There are no restrictions.
     * @principle: Open access for prototyping.
     */
    match /contractors/{contractorId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description: Allows all read and write access to the metro codes collection.
     * @path: /metro_codes/{metroCodeId}
     * @allow: (get, list, create, update, delete) - Any user can perform any operation.
     * @deny: (none) - There are no restrictions.
     * @principle: Open access for prototyping.
     */
    match /metro_codes/{metroCodeId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description: Allows all read and write access to the users collection.
     * @path: /users/{userId}
     * @allow: (get, list, create, update, delete) - Any user can perform any operation.
     * @deny: (none) - There are no restrictions.
     * @principle: Open access for prototyping.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}